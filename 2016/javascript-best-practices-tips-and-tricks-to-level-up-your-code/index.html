<!DOCTYPE html><html lang=zh-cn><head><meta charset=utf-8><meta name=X-UA-Compatible content="IE=edge"><title>JavaScript æœ€ä½³å®è·µ: æå‡ä½ ä»£ç è´¨é‡çš„ä¸€äº›æç¤º&æŠ€å·§ Â· äº‘æ·¡é£è½»</title><meta name=description content="JavaScript æœ€ä½³å®è·µ: æå‡ä½ ä»£ç è´¨é‡çš„ä¸€äº›æç¤º&amp;æŠ€å·§ - äº‘æ·¡é£è½»"><meta name=viewport content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1,minimum-scale=1"><link rel="short icon" type=image/x-icon href=/images/favicon.ico><link rel=stylesheet href=/scss/apollo.css><link rel=stylesheet href=//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css><!--[if lt IE 9]><script src="/scripts/html5shiv/html5shiv.min.js"></script><script src="/scripts/html5shiv/html5shiv-printshiv.min.js"></script><![endif]--><link rel=search type=application/opensearchdescription+xml href=http://ioliu.cn/atom.xml title=äº‘æ·¡é£è½»></head><body><div class=wrap><header><a href="/" class=logo-link><img src=/images/favicon.png></a><ul class="nav nav-list"><li class=nav-list-item><a href="/" target=_self class=nav-list-link>Home</a></li><li class=nav-list-item><a href="/archives/" target=_self class=nav-list-link>Archive</a></li><li class=nav-list-item><a href="/tags/" target=_self class=nav-list-link>Tags</a></li><li class=nav-list-item><a href=http://weibo.com/1842336184 target=_blank class=nav-list-link>Weibo</a></li><li class=nav-list-item><a href=https://github.com/xcss target=_blank class=nav-list-link>GitHub</a></li><li class=nav-list-item><a href=/atom.xml target=_self class=nav-list-link>Rss</a></li></ul></header><section class=container><div class=post><article class=post-block><h1 class=post-title>[è¯‘] JavaScript æœ€ä½³å®è·µ: æå‡ä½ ä»£ç è´¨é‡çš„ä¸€äº›æç¤º&æŠ€å·§</h1><div class=post-info>2016å¹´9æœˆ2æ—¥<a href="/tags/JavaScript/" title=JavaScript class=post-tag>#JavaScript</a><a href="/tags/å‰ç«¯/" title=å‰ç«¯ class=post-tag>#å‰ç«¯</a><a href="/tags/è¯‘æ–‡/" title=è¯‘æ–‡ class=post-tag>#è¯‘æ–‡</a><a href="/tags/æŠ€å·§/" title=æŠ€å·§ class=post-tag>#æŠ€å·§</a><span id="/2016/javascript-best-practices-tips-and-tricks-to-level-up-your-code/" title="JavaScript æœ€ä½³å®è·µ: æå‡ä½ ä»£ç è´¨é‡çš„ä¸€äº›æç¤º&amp;æŠ€å·§" class=leancloud-visitors>-Â°</span><div class=cp-tip><div class=cp-scroll-x><p class=cp-author>åŸæ–‡ä½œè€…:<a href=https://www.codementor.io/johnnyb title=@johnnyb target=_blank>@johnnyb</a></p><p class=cp-url>åŸæ–‡åœ°å€:<a href=https://www.codementor.io/javascript/tutorial/javascript-best-practices title=https://www.codementor.io/javascript/tutorial/javascript-best-practices target=_blank>https://www.codementor.io/javascript/tutorial/javascript-best-practices</a></p><p class=cp-post>ä¸­æ–‡ç¿»è¯‘:<a href=https:github.com/xcCss title=äº‘æ·¡é£è½» target=_blank>äº‘æ·¡é£è½»</a></p><p class=cp-post-url>è¯‘æ–‡åœ°å€:<a href="http://ioliu.cn/2016/javascript-best-practices-tips-and-tricks-to-level-up-your-code/" title="http://ioliu.cn/2016/javascript-best-practices-tips-and-tricks-to-level-up-your-code/" target=_blank>http://ioliu.cn/2016/javascript-best-practices-tips-and-tricks-to-level-up-your-code/</a></p><p class=cp-note>æœ¬æ–‡ç”± @äº‘æ·¡é£è½» ç¿»è¯‘ï¼Œè½¬è½½è¯·ä¿ç•™æ­¤å£°æ˜ã€‚</p><p class=cp-note>è‘—ä½œæƒå±äºåŸä½œè€…ï¼Œè¯·å‹¿ç”¨ä½œå•†ä¸šç”¨é€”ã€‚</p></div></div></div><div class=post-content><p><img src=/images/placeholder.gif data-orig=https://ws4.sinaimg.cn/large/006qRazegw1f7f8plb62gj30p00cimxw.jpg alt=""></p><p>æ¯å¤©å­¦ä¹ æ–°äº‹ç‰©æ˜¯æˆä¸ºä¸€ä¸ªä¼Ÿå¤§çš„äººçš„ä¸€éƒ¨åˆ†ã€‚è€Œå¯¹å¼€å‘è€…è€Œè¨€ï¼ŒæŒç»­ä¸æ–­å­¦ä¹ æ–°çš„ä¸œè¥¿æ˜¯æˆ‘ä»¬å·¥ä½œä¸­çš„ä¸€éƒ¨åˆ†ï¼Œæ— è®ºè¿™äº›ä¸œè¥¿æ˜¯å¦æ˜¯ä½ ä¸»åŠ¨æƒ³å­¦çš„ã€‚</p><p>åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä¼šæŒ‡å‡ºä¸€äº›é‡è¦çš„ JavaScript æœ€ä½³å®è·µï¼Œå› æ­¤ä½ ä¸å¿…è§‰å¾—å­¦ä¹ å®ƒæ˜¯æ¡è‰°éš¾çš„è·¯ã€‚å‡†å¤‡æå‡ä½ çš„ä»£ç å§ï¼<br><a id=more></a></p><h2 id=é¿å…å…¨å±€æ±¡æŸ“-Avoid-polluting-the-global-scope><a href=#é¿å…å…¨å±€æ±¡æŸ“-Avoid-polluting-the-global-scope class=headerlink title="é¿å…å…¨å±€æ±¡æŸ“(Avoid polluting the global scope)"></a>é¿å…å…¨å±€æ±¡æŸ“(Avoid polluting the global scope)</h2><p>å£°æ˜å˜é‡(<code>Declaring variables</code>)æ˜¯å¾ˆæœ‰è¶£çš„ã€‚æœ‰æ—¶å€™ï¼Œä½ å¯èƒ½å£°æ˜äº†å…¨å±€å˜é‡ï¼Œå³ä½¿ä½ ä¸æƒ³å£°æ˜å®ƒã€‚åœ¨å¦‚ä»Šçš„æµè§ˆå™¨ä¸­ï¼Œå…¨å±€å˜é‡å­˜å‚¨åœ¨<code>window</code>å¯¹è±¡ä¸­ã€‚å› æ­¤ï¼Œæœ‰å¾ˆå¤šæœ‰è¶£çš„ä¸œè¥¿å‘ç”Ÿåœ¨é‚£é‡Œï¼Œä½ å¯èƒ½ä¼šé‡å†™é»˜è®¤å€¼ã€‚<br>è®©æˆ‘ä»¬å‡è®¾ä½ æœ‰ä¸€ä¸ªHTMLæ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«ä¸€ä¸ª<code>&lt;script&gt;</code>æ ‡ç­¾(æˆ–è€…åœ¨åŠ è½½çš„ JavaScript æ–‡ä»¶ä¸­åŒ…å«):<br><figure class="highlight js"><table><tr><td class=code><pre><div class=line><span class=keyword>var</span> foo = <span class=number>42</span>;</div><div class=line><span class=built_in>console</span>.log(foo);</div></pre></td></tr></table></figure></p><p>è¿™å¾ˆæ˜¾ç„¶ä¼šåœ¨æ§åˆ¶å°è¾“å‡º<code>42</code>ã€‚ä½†æ˜¯ï¼Œå› ä¸ºè¿™æ®µä»£ç æ²¡æœ‰åœ¨å‡½æ•°ä¸­æ‰§è¡Œï¼Œä¸Šä¸‹æ–‡å°†æ˜¯ä¸€ä¸ªå…¨å±€çš„ã€‚å› æ­¤ï¼Œå˜é‡æ˜¯é™„åŠ åˆ°<code>window</code>å¯¹è±¡çš„ã€‚è¿™æ„å‘³ç€<code>window.foo</code>çš„å€¼ä¹Ÿæ˜¯<code>42</code>ã€‚</p><p>è¿™æ˜¯å±é™©çš„ï¼Œå› ä¸ºä½ å¯ä»¥é‡å†™å·²ç»å­˜åœ¨çš„å…¨å±€å˜é‡:<br><figure class="highlight js"><table><tr><td class=code><pre><div class=line><span class=function><span class=keyword>function</span> <span class=title>print</span>(<span class=params></span>)</span>&#123;</div><div class=line>	<span class=comment>//do something...</span></div><div class=line>&#125;</div><div class=line></div><div class=line>print();</div></pre></td></tr></table></figure></p><p>å› ä¸ºæˆ‘ä»¬é‡å†™äº†åŸç”Ÿçš„æ‰“å°å¼¹çª—(<code>native print popup</code>)ï¼Œæ‰€ä»¥å½“æˆ‘ä»¬æ‰§è¡Œ<code>window.print()</code> (æˆ–è€…åªæ‰§è¡Œ<code>print()</code>)çš„æ—¶å€™ä¸ä¼šæ‰“å¼€æ‰“å°å¼¹çª—(<code>print popup</code>)ã€‚</p><p>è¿™ä¸ªé—®é¢˜å¾ˆå¥½è§£å†³ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªç«‹å³è°ƒç”¨(<code>called immediately</code>) çš„åŒ…è£…å‡½æ•°(<code>wrapping function</code>) (è¯‘è€…æ³¨:ä½œè€…è¿™é‡Œå¯èƒ½æ˜¯è¦è¡¨è¾¾ä¸€ä¸ªé—­åŒ…å‡½æ•°<code>closure function</code>æˆ–è€…æ˜¯åŒ¿åå‡½æ•°<code>anonymous function</code>)ï¼Œåƒä¸‹é¢çš„ä»£ç :<br><figure class="highlight js"><table><tr><td class=code><pre><div class=line><span class=comment>// Declare an anonymous function</span></div><div class=line><span class=comment>// å£°æ˜ä¸€ä¸ªåŒ¿åå‡½æ•°</span></div><div class=line>(<span class=function><span class=keyword>function</span> (<span class=params></span>) </span>&#123;</div><div class=line>   <span class=keyword>var</span> foo = <span class=number>42</span>;</div><div class=line>   <span class=built_in>console</span>.log(<span class=built_in>window</span>.foo);</div><div class=line>   <span class=comment>// â†’ undefined</span></div><div class=line>   <span class=built_in>console</span>.log(foo);</div><div class=line>   <span class=comment>// â†’ 42</span></div><div class=line>&#125;)();</div><div class=line><span class=comment>//^ and call it immediately</span></div></pre></td></tr></table></figure></p><p>å¦å¤–ï¼Œä½ åº”è¯¥é€‰æ‹©å‘é€<code>window</code>å’Œå…¶ä»–çš„å…¨å±€å˜é‡(å¦‚:<code>document</code>)ä½œä¸ºå‡½æ•°çš„å‚æ•°(è¿™å¯èƒ½ä¼šæé«˜æ€§èƒ½):<br><figure class="highlight js"><table><tr><td class=code><pre><div class=line>(<span class=function><span class=keyword>function</span> (<span class=params>global, doc</span>) </span>&#123;</div><div class=line>  global.setTimeout(<span class=function><span class=keyword>function</span> (<span class=params></span>) </span>&#123;</div><div class=line>     doc.body.innerHTML = <span class=string>"Hello!"</span>;</div><div class=line>  &#125;, <span class=number>1000</span>);</div><div class=line>&#125;)(<span class=built_in>window</span>, <span class=built_in>document</span>);</div></pre></td></tr></table></figure></p><p>å› æ­¤ï¼Œä½¿ç”¨åŒ…è£…å‡½æ•°æ¥é˜²æ­¢åˆ›å»ºä¸å¿…è¦çš„å…¨å±€å˜é‡ã€‚æ³¨æ„ï¼Œè¿™ä¸æ˜¯è¯´æˆ‘åœ¨æ¥ä¸‹æ¥çš„ä»£ç ç‰‡æ®µä½¿ç”¨åŒ…è£…å‡½æ•°ï¼Œæˆ‘ä»¬åº”è¯¥æŠŠå…³æ³¨ç‚¹æ”¾åœ¨ä»£ç æœ¬èº«ã€‚</p><blockquote><p>ğŸ’¡å°æç¤º: <a href="http://browserify.org/" target=_blank rel=external>browserify</a>æ˜¯å¦å¤–ä¸€ç§é˜²æ­¢åˆ›å»ºä¸å¿…è¦çš„å…¨å±€å˜é‡çš„æ–¹å¼ã€‚å®ƒå’Œ Node.js é‡‡ç”¨çš„æ˜¯åŒæ ·çš„æ–¹å¼ï¼Œä½¿ç”¨çš„<code>require function</code>ã€‚</p></blockquote><hr><p><em>å­¦ä¹ æ›´å¤šå…³äºæµè§ˆå™¨å¼€å‘è€…å·¥å…·è¯·ç‚¹å‡» <a href=https://www.codementor.io/learn-development/javascript-css-html-tutorial-front-end-development-tools target=_blank rel=external>Web å¼€å‘æŒ‡å—</a></em></p><hr><p>é¡ºä¾¿è¯´ä¸€å¥ï¼ŒNode.js ä¼šåœ¨å‡½æ•°é‡Œè‡ªåŠ¨æ‰“åŒ…ä½ çš„æ–‡ä»¶ï¼Œå®ƒä»¬çœ‹èµ·æ¥åƒè¿™æ ·ï¼š<br><figure class="highlight js"><table><tr><td class=code><pre><div class=line>(<span class=function><span class=keyword>function</span> (<span class=params>exports, require, module, __filename, __dirname</span>) </span>&#123;</div><div class=line><span class=comment>// ...</span></div></pre></td></tr></table></figure></p><p>å› æ­¤ï¼Œå¦‚æœè¿™è®©ä½ è®¤ä¸º<code>require</code>å‡½æ•°æ˜¯å…¨å±€çš„é‚£å°±é”™äº†ã€‚å®ƒåªä¸è¿‡æ˜¯ä¸€ä¸ªå‡½æ•°çš„å‚æ•°ç½¢äº†ã€‚</p><p><strong>ä½ çŸ¥é“å—ï¼Ÿ</strong><br>ç”±äº<code>window</code>å¯¹è±¡æœ¬èº«å°±æ˜¯ä¸€ä¸ªåŒ…å«å…¨å±€å˜é‡çš„å…¨å±€å˜é‡ï¼Œå› æ­¤å®ƒçš„å¼•ç”¨æ˜¯è‡ªèº«:<br><figure class="highlight js"><table><tr><td class=code><pre><div class=line><span class=built_in>window</span>.window.window</div><div class=line><span class=comment>// =&gt; Window &#123;...&#125;</span></div></pre></td></tr></table></figure></p><p>é‚£æ˜¯å› ä¸º<code>window</code>å¯¹è±¡æ˜¯ä¸€ä¸ªç¯è·¯å¯¹è±¡(<code>circular object</code>)ï¼Œä¸‹é¢æ¼”ç¤ºæ€ä¹ˆåˆ›å»ºä¸€ä¸ªè¿™æ ·çš„å¯¹è±¡ï¼š<br><figure class="highlight js"><table><tr><td class=code><pre><div class=line><span class=comment>// Create an Object</span></div><div class=line><span class=keyword>var</span> foo = &#123;&#125;;</div><div class=line></div><div class=line><span class=comment>// Point a key value to the object itself</span></div><div class=line><span class=comment>// è®¾ç½®ä¸€ä¸ªkeyï¼Œå€¼ä¸ºå®ƒæœ¬èº«</span></div><div class=line>foo.bar = foo;</div><div class=line></div><div class=line><span class=comment>// The `foo` object just became a circular one:</span></div><div class=line>foo.bar.bar.bar</div><div class=line><span class=comment>// â†’ foo</span></div></pre></td></tr></table></figure></p><p>æˆ–è€…ï¼Œå»å±•ç°ä½ å¯¹JavaScript çš„çˆ±ï¼Œä½ å¯ä»¥åšå¾—æ›´å¥½ï¼š<br><img src=/images/placeholder.gif data-orig=https://ws1.sinaimg.cn/large/006qRazegw1f7fbn6xey4j30di0ca409.jpg alt=""><br>Yesï¼Œä½ å¯ä»¥æ— é™çš„æ‰©å±•è¿™ä¸ªå¯¹è±¡(å¤§æ¦‚ç›´åˆ°ä½ çš„æµè§ˆå™¨å´©æºƒ).</p><h2 id=ä½¿ç”¨ä¸¥æ ¼æ¨¡å¼-use-strict><a href=#ä½¿ç”¨ä¸¥æ ¼æ¨¡å¼-use-strict class=headerlink title="ä½¿ç”¨ä¸¥æ ¼æ¨¡å¼(use strict)"></a>ä½¿ç”¨ä¸¥æ ¼æ¨¡å¼(<code>use strict</code>)</h2><p>ä¸¥æ ¼çš„ä½¿ç”¨<code>use strict</code>ï¼è¿™åªä¸è¿‡æ˜¯(è¯‘è€…æ³¨:è¿™é‡ŒåŸä½œè€…å¯èƒ½æ˜¯æƒ³è¡¨è¾¾<code>ä¸ä»…ä»…æ˜¯</code>)åœ¨ä½ çš„ä»£ç è„šæœ¬ä¸­æ·»åŠ å­—ç¬¦ä¸²è€Œå·²ã€‚<br>ä¸¾ä¸ªæ —å­ï¼š<br><figure class="highlight js"><table><tr><td class=code><pre><div class=line><span class=comment>// This is bad, since you do create a global without having anyone to tell you</span></div><div class=line>(<span class=function><span class=keyword>function</span> (<span class=params></span>) </span>&#123;</div><div class=line>   a = <span class=number>42</span>;</div><div class=line>   <span class=built_in>console</span>.log(a);</div><div class=line>   <span class=comment>// â†’ 42</span></div><div class=line>&#125;)();</div><div class=line><span class=built_in>console</span>.log(a);</div><div class=line><span class=comment>// â†’ 42</span></div></pre></td></tr></table></figure></p><p>ä½¿ç”¨<code>use strict</code>ï¼Œä½ å¯ä»¥å¾—åˆ°æ›´å¤šçš„ç¡®åˆ‡çš„é”™è¯¯ï¼š<br><figure class="highlight js"><table><tr><td class=code><pre><div class=line>(<span class=function><span class=keyword>function</span> (<span class=params></span>) </span>&#123;</div><div class=line><span class=meta>   "use strict"</span>;</div><div class=line>   a = <span class=number>42</span>;</div><div class=line>   <span class=comment>// Error: Uncaught ReferenceError: a is not defined</span></div><div class=line>&#125;)();</div></pre></td></tr></table></figure></p><p>ä½ å¯èƒ½ä¼šå¥‡æ€ªï¼Œä¸ºä»€ä¹ˆä¸èƒ½å°†<code>use strict</code> å†™åœ¨å‡½æ•°ä½“å¤–ã€‚å½“ç„¶ï¼Œè¿™æ˜¯å¯ä»¥çš„ï¼Œä½†å®ƒå°†ä¼šåº”ç”¨ä¸ºå…¨å±€çš„èŒƒå›´ã€‚è¿™ä»ç„¶æ˜¯ä¸é”™çš„ï¼Œä½†å¦‚æœä½ çš„ä»£ç ä¸­å«æœ‰æ¥è‡ªå…¶ä»–åº“çš„ä»£ç ï¼Œè¿™ä¹Ÿä¼šå—å…¶å½±å“ï¼Œæˆ–è€…ä½ æŠŠæ‰€æœ‰çš„ä¸œè¥¿éƒ½ç»‘å®šåœ¨ä¸€ä¸ªæ–‡ä»¶é‡Œã€‚</p><h2 id=ä¸¥æ ¼ç›¸ç­‰-Strict-equal><a href=#ä¸¥æ ¼ç›¸ç­‰-Strict-equal class=headerlink title="ä¸¥æ ¼ç›¸ç­‰(Strict equal)"></a>ä¸¥æ ¼ç›¸ç­‰(<code>Strict equal</code>)</h2><p>è¿™æ˜¯çŸ­çš„ã€‚å¦‚æœä½ ä½¿ç”¨<code>==</code>å¯¹æ¯”<code>a</code>å’Œ<code>b</code>(åƒåœ¨å…¶ä»–ç¼–ç¨‹è¯­è¨€)ï¼Œåœ¨ JavaScript ä¸­ï¼Œä½ å¯èƒ½è¿™ç§éå¸¸å¥‡æ€ªçš„è¿è¡Œæ–¹å¼ï¼šå¦‚æœä½ æœ‰ä¸€ä¸ªå­—ç¬¦ä¸²å’Œä¸€ä¸ªæ•°å­—ï¼Œä»–ä»¬æ˜¯ç›¸ç­‰çš„(<code>==</code>):<br><figure class="highlight js"><table><tr><td class=code><pre><div class=line><span class=string>"42"</span> == <span class=number>42</span></div><div class=line><span class=comment>// â†’ true</span></div></pre></td></tr></table></figure></p><p>ç”±äºæ˜¾è€Œæ˜“è§çš„åŸå› (å¦‚ <code>éªŒè¯(validations)</code>)ï¼Œæœ€å¥½ä½¿ç”¨ä¸¥æ ¼ç›¸ç­‰(<code>===</code>)ï¼š<br><figure class="highlight js"><table><tr><td class=code><pre><div class=line><span class=string>"42"</span> === <span class=number>42</span></div><div class=line><span class=comment>// â†’ false</span></div></pre></td></tr></table></figure></p><h2 id=ä½¿ç”¨æ–­è¨€-amp-amp><a href=#ä½¿ç”¨æ–­è¨€-amp-amp class=headerlink title=ä½¿ç”¨æ–­è¨€(&amp;&amp;/||)></a>ä½¿ç”¨æ–­è¨€(<code>&amp;&amp;</code>/<code>||</code>)</h2><p>æ ¹æ®ä½ çš„éœ€è¦ï¼Œä½ å¯ä»¥ä½¿ç”¨é€»è¾‘è¿ç®—ç¬¦æ˜¯ä½ çš„ä»£ç æ›´ç®€çŸ­ã€‚<br><strong>é»˜è®¤å€¼:</strong></p><figure class="highlight js"><table><tr><td class=code><pre><div class=line><span class=string>""</span> || <span class=string>"foo"</span></div><div class=line><span class=comment>// â†’ "foo"</span></div><div class=line></div><div class=line><span class=literal>undefined</span> || <span class=number>42</span></div><div class=line><span class=comment>// â†’ 42</span></div><div class=line></div><div class=line><span class=comment>// Note that if you want to handle 0 there, you need</span></div><div class=line><span class=comment>// to check if a number was provided:</span></div><div class=line><span class=keyword>var</span> a = <span class=number>0</span>;</div><div class=line>a || <span class=number>42</span></div><div class=line><span class=comment>// â†’ 42</span></div><div class=line></div><div class=line><span class=comment>// This is a ternary operatorâ€”works like an inline if-else statement</span></div><div class=line><span class=keyword>var</span> b = <span class=keyword>typeof</span> a === <span class=string>"number"</span> ? a : <span class=number>42</span>;</div><div class=line><span class=comment>// â†’ 0</span></div></pre></td></tr></table></figure><p>æ£€æŸ¥æ˜¯å¦æ˜¯ä¸€ä¸ªçœŸæ­£çš„<code>if</code>è¡¨è¾¾å¼ï¼Œä½ å¯ä»¥ç®€å•çš„è¿™ä¹ˆåšï¼š<br><figure class="highlight js"><table><tr><td class=code><pre><div class=line>expr &amp;&amp; doSomething();</div><div class=line></div><div class=line><span class=comment>// Instead of:</span></div><div class=line><span class=keyword>if</span> (expr) &#123;</div><div class=line>	doSomething();</div><div class=line>&#125;</div></pre></td></tr></table></figure></p><p>ä½ å¯èƒ½ä¼šä¸èµåŒæˆ‘è¿™é‡Œçš„å†™æ³•ï¼Œä½†æ˜¯è¿™æ˜¯æ¯”è¾ƒç†æƒ³çš„ã€‚å¦‚æœä½ ä¸æƒ³ç”¨è¿™ç§æ–¹å¼ä¸‘åŒ–ä½ çš„ä»£ç ï¼Œä½†é‚£äº› JavaScript å‹ç¼©å·¥å…·å®é™…ä¸Šä¼šè¿™ä¹ˆåšã€‚</p><p>å¦‚æœä½ é—®æˆ‘ï¼Œå°½ç®¡è¿™äº›ä»£ç æ¯”è¾ƒçŸ­ï¼Œä½†å®ƒä»ç„¶æ˜¯äººç±»å¯è¯»çš„ã€‚</p><h2 id=ç±»å‹è½¬æ¢><a href=#ç±»å‹è½¬æ¢ class=headerlink title=ç±»å‹è½¬æ¢></a>ç±»å‹è½¬æ¢</h2><p>æœ‰å‡ ç§æ–¹å¼æ¥è½¬æ¢è¿™äº›ä¸œè¥¿ï¼Œè¿™å–å†³äºä½ æƒ³æ€ä¹ˆåšã€‚æœ€å¸¸è§çš„æ–¹å¼æ˜¯ï¼š<br><figure class="highlight js"><table><tr><td class=code><pre><div class=line><span class=comment>// From anything to a number</span></div><div class=line></div><div class=line><span class=keyword>var</span> foo = <span class=string>"42"</span>;</div><div class=line><span class=keyword>var</span> myNumber = +foo; <span class=comment>// shortcut for Number(foo)</span></div><div class=line><span class=comment>// â†’ 42</span></div><div class=line></div><div class=line><span class=comment>// Tip: you can convert it directly into a negative number</span></div><div class=line><span class=keyword>var</span> negativeFoo = -foo; <span class=comment>// or -Number(foo)</span></div><div class=line><span class=comment>// â†’ -42</span></div><div class=line></div><div class=line><span class=comment>// From object to array</span></div><div class=line><span class=comment>// Tip: `arguments` is an object and in general you want to use it as array</span></div><div class=line><span class=keyword>var</span> args = &#123; <span class=number>0</span>: <span class=string>"foo"</span>, <span class=number>1</span>: <span class=string>"bar"</span>, <span class=attr>length</span>: <span class=number>2</span> &#125;;</div><div class=line><span class=built_in>Array</span>.prototype.slice.call(args)</div><div class=line><span class=comment>// â†’ [ 'foo', 'bar' ]</span></div><div class=line></div><div class=line><span class=comment>// Anything to boolean</span></div><div class=line><span class=comment>/// Non non p is a boolean p</span></div><div class=line><span class=keyword>var</span> t = <span class=number>1</span>;</div><div class=line><span class=keyword>var</span> f = <span class=number>0</span>;</div><div class=line>!!t</div><div class=line><span class=comment>// â†’ true</span></div><div class=line>!!f</div><div class=line><span class=comment>// â†’ false</span></div><div class=line></div><div class=line><span class=comment>/// And non-p is a boolean non-p</span></div><div class=line>!t</div><div class=line><span class=comment>// â†’ false</span></div><div class=line>!f</div><div class=line><span class=comment>// â†’ true</span></div><div class=line></div><div class=line><span class=comment>// Anything to string</span></div><div class=line><span class=keyword>var</span> foo = <span class=number>42</span>;</div><div class=line><span class=string>""</span> + foo <span class=comment>// shortcut for String(foo)</span></div><div class=line><span class=comment>// â†’ "42"</span></div><div class=line></div><div class=line>foo = &#123; <span class=attr>hello</span>: <span class=string>"world"</span> &#125;;</div><div class=line><span class=built_in>JSON</span>.stringify(foo);</div><div class=line><span class=comment>// â†’ '&#123; "hello":"world" &#125;'</span></div><div class=line></div><div class=line><span class=built_in>JSON</span>.stringify(foo, <span class=literal>null</span>, <span class=number>4</span>); <span class=comment>// beautify the things</span></div><div class=line><span class=comment>// â†’</span></div><div class=line><span class=comment>// '&#123;</span></div><div class=line><span class=comment>//    "hello": "world"</span></div><div class=line><span class=comment>// &#125;'</span></div><div class=line></div><div class=line><span class=comment>// Note you cannot JSON.stringify circular structures</span></div><div class=line><span class=built_in>JSON</span>.stringify(<span class=built_in>window</span>);</div><div class=line><span class=comment>// âš  TypeError: JSON.stringify cannot serialize cyclic structures.</span></div></pre></td></tr></table></figure></p><h2 id=ä»£ç æ ·å¼-æ ·å¼æŒ‡å—><a href=#ä»£ç æ ·å¼-æ ·å¼æŒ‡å— class=headerlink title=ä»£ç æ ·å¼/æ ·å¼æŒ‡å—></a>ä»£ç æ ·å¼/æ ·å¼æŒ‡å—</h2><p>åœ¨æ–°é¡¹ç›®ä¸­ï¼Œéµå¾ªæ•´ä¸ªæ–‡ä»¶ç›¸åŒçš„ä»£ç é£æ ¼ã€‚å¯¹äºç°æœ‰çš„ï¼Œé‡‡ç”¨å·²ç»å­˜åœ¨çš„ä»£ç é£æ ¼ï¼Œé™¤éä½ åªæ˜¯å†³å®šæ”¹å˜å®ƒ(æç¤ºï¼šåŒä½ çš„åˆä½œè€…å•†è®¨)ã€‚å³ä½¿ä½ åˆ›å»ºå¹¶è®°å½•ä½ çš„ä»£ç é£æ ¼ï¼Œè¯·å§‹ç»ˆéµå¾ªå®ƒã€‚</p><p>è¿™é‡Œæ˜¯ä¸åŒçš„ç°æœ‰çš„ä»£ç æ ·å¼ï¼š</p><ul><li><a href=https://google.github.io/styleguide/javascriptguide.xml target=_blank rel=external>Google JavaScript Style Guide</a></li><li><a href=https://github.com/airbnb/javascript target=_blank rel=external>airbnb/javascript</a></li><li>â€¦ there are others too</li><li><a href=https://github.com/IonicaBizau/code-style target=_blank rel=external>my style guide</a></li></ul><h2 id=é™„åŠ æç¤º><a href=#é™„åŠ æç¤º class=headerlink title=é™„åŠ æç¤º></a>é™„åŠ æç¤º</h2><p>å…¶ä»–é‡è¦çš„ JavaScript æœ€ä½³å®è·µï¼Œä½ åº”è¯¥è®°ä½çš„æ˜¯ä½¿ç”¨å·¥å…·å¸®åŠ©ä½ æ ¼å¼åŒ–ä½ çš„ä»£ç ã€‚è¿™æ˜¯å…¶ä¸­çš„ä¸€äº›ï¼š</p><ul><li><a href=https://github.com/beautify-web/js-beautify target=_blank rel=external>js-beautify</a>: Beautifies your code</li><li><a href=https://github.com/mishoo/UglifyJS2 target=_blank rel=external>UglifyJS(2)</a>: Uglifies/minimifies your code</li><li><a href=https://github.com/jshint/jshint target=_blank rel=external>jshint</a>: Detects errors/potential problems in your JavaScript code</li><li><a href="http://jscs.info/" target=_blank rel=external>jscs</a>: A configurable style guide checker</li></ul><p>æœ€åä¸€ä»¶äº‹ï¼š<a href=https://www.codementor.io/learn-programming/what-to-do-when-your-website-is-broken target=_blank rel=external>Debug your Code</a></p><p>Happy programming!</p><hr><p>è‡´è°¢ï¼š<a href=https://www.haomwei.com target=_blank rel=external>@å± å¤«</a> ã€<a href=https://qistchan.com target=_blank rel=external>@QistChan</a>ã€<a href=https://napolin.cn target=_blank rel=external>@nApolin</a>ã€<a href=http://www.antzone.cn target=_blank rel=external>@Ant</a></p><hr></div></article></div></section><footer><div class=paginator><a href="/2016/css-content-and-special-characters/" class=prev>ä¸Šä¸€ç¯‡</a><a href="/2016/vuejs-examples/" class=next>ä¸‹ä¸€ç¯‡</a></div><div data-thread-key="2016/javascript-best-practices-tips-and-tricks-to-level-up-your-code/" data-title="JavaScript æœ€ä½³å®è·µ: æå‡ä½ ä»£ç è´¨é‡çš„ä¸€äº›æç¤º&amp;æŠ€å·§" data-url="http://ioliu.cn/2016/javascript-best-practices-tips-and-tricks-to-level-up-your-code/" data-author-key=1 class=ds-thread></div><script>var duoshuoQuery={short_name:"ioliu"};!function(){var t=document.createElement("script");t.id="duoshuo-script",t.type="text/javascript",t.async=!0,t.src=("https:"==document.location.protocol?"https:":"http:")+"//dn-ds-img.qbox.me/embed.js",t.charset="UTF-8",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(t)}();</script><script>window.CONFIG={duoshuo:{userId:"ioliu",anthor:"äº‘æ·¡é£è½»"}};</script><div class=copyright><p>Â© 2013 - 2016 <a href=http://ioliu.cn>äº‘æ·¡é£è½»</a>, <a href="http://www.miitbeian.gov.cn/" rel=nofollow target=_blank>ç²¤ICPå¤‡15050037å·</a> .</p><p>Powered By <a href="https://hexo.io/" rel=nofollow target=_blank>Hexo</a> and <a href=https://github.com/pinggod/hexo-theme-apollo rel=nofollow target=_blank>hexo-theme-apollo</a></p></div></footer></div><script src="/scripts/ua-parser.min.js?v=0.7.9"></script><script src=/scripts/hook-duoshuo.js></script><script src=/scripts/visibility.js></script><script src=/scripts/lazy.js></script><script>echo.lazyAttr="data-orig";</script><script>echo.init({offsetBottom:400,throttle:200,unload:!0,callback:function(t,e){}}),document.addEventListener("DOMContentLoaded",function(){echo.render()},!1);</script><script>/^http:\/\/localhost/.test(location.href)||/_@_@_@=#\$#\$#\$/.test(document.cookie)||(!function(e,t,a,o,n,c){e.GoogleAnalyticsObject=o,e[o]||(e[o]=function(){(e[o].q=e[o].q||[]).push(arguments)}),e[o].l=+new Date,n=t.createElement(a),c=t.getElementsByTagName(a)[0],n.src="https://www.google-analytics.com/analytics.js",c.parentNode.insertBefore(n,c)}(window,document,"script","ga"),ga("create","UA-61934506-1","auto"),ga("send","pageview"));</script><script>if(!/^http:\/\/localhost/.test(location.href)){var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="//hm.baidu.com/hm.js?2119376191e432c012a0713bcca8a8ea";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()}</script><script src=https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js></script><script src=/scripts/lean-analytics.js></script><script>AV.initialize("R9cQjqaD9AXPKY7AQiU6U6yl","YHUU5n9sbvpRQCdiIU8aRsmH");</script></body></html>